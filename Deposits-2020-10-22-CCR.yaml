openapi: 3.0.1
info:
  title: Deposits
  description: Deposits represent the initiation of a Debit or a Credit to a Merchant's
    Bank Account that relates to Transactions and Disputes processed, or fees charged,
    to the Merchant.
  version: 2020 10 22
servers:
- url: https://apis.sandbox.globalpay.com/ucp
security:
- bearerAuth: []
tags: []
paths:
  /settlement/deposits:
    get:
      tags:
      - Deposits
      summary: Get a list of Deposits using criteria passed in the query string. Page
        through the result set to access all records.
      description: Get a list of Deposits using criteria passed in the query string.
        Page through the result set to access all records.
      parameters:
      - name: Authorization
        in: header
        description: The Bearer token used when executing this action.
        required: true
        schema:
          type: string
          example: Bearer MECaTYne0ch1VX2byAPZiJHhq6bc
          minLength: 1
          maxLength: 50
      - name: X-GP-Version
        in: header
        description: Indicates the version of the GP-API for this message.
        required: true
        schema:
          type: string
          example: "2020-10-22"
      - name: Accept
        in: header
        description: Format of the expected response message. Must be application/json.
        schema:
          type: string
          default: application/json
      - name: page
        in: query
        description: Indicates the page sequence to return in the response. The number
          of records presented on each page is determined by page_size parameter.
        schema:
          type: number
          minLength: 1
          maxLength: 50
      - name: page_size
        in: query
        description: The total number of objects to return in a single page for that
          list
        schema:
          maximum: 1000
          minimum: 1
          type: number
          default: 5
      - name: order_by
        in: query
        description: The value to order the entire list by.
        schema:
          type: string
          default: time_created
          enum:
          - TIME_CREATED
          - STATUS
          - TYPE
          - ID
      - name: order
        in: query
        description: The direction of the ordering of the entire list, ASC or DESC
        schema:
          type: string
          default: ASC
          enum:
          - ASC
          - DESC
      - name: account_name
        in: query
        description: A meaningful label generated by Global Payments to identify the
          Merchant's configuration account.
        required: true

        schema:
          type: string
          minLength: 1
          maxLength: 50
          example: Settlement Reporting
      - name: from_time_created
        in: query
        description: The time to search from in a range, using the Deposit time created
          value.
        required: true
        schema:
          type: string
          format: date
          example: "2020-11-11"
      - name: id
        in: query
        description: 'Identifier that uniquely identifies the Deposit on the Global
          Payments system. '
        schema:
          type: string
          minLength: 1
          maxLength: 50
      - name: status
        in: query
        description: Search for Deposits that have a status of FUNDED, SPLIT_FUNDING,
          DELAYED, RESERVED, IRREG or RELEASED.
        schema:
          type: string
          enum:
          - FUNDED
          - SPLIT_FUNDING
          - DELAYED
          - RESERVED
          - IRREG
          - RELEASED
      - name: to_time_created
        in: query
        description: The time to search to in a range, using the Deposit time created
          value.
        schema:
          type: string
          format: date
          example: "2020-06-19"
      - name: amount
        in: query
        description: The amount of the Deposit that affects the merchant's bank account.
        schema:
          type: string
          minLength: 1
          maxLength: 50
      - name: masked_account_number_last4
        in: query
        description: The last 4 of the merchants bank account.
        schema:
          type: string
      - name: system.mid
        in: query
        description: The system merchant identifier.
        schema:
          type: string
          minLength: 1
          maxLength: 50
      - name: system.hierarchy
        in: query
        description: The system merchant hierarchy
        schema:
          type: string
          minLength: 1
          maxLength: 50
      responses:
        200:
          description: Success
          headers:
            Content-type:
              description: Format of the message.
              schema:
                type: string
                default: application/json
            Content-Encoding:
              description: Compression algorithm used in the response.
              schema:
                type: string
                default: gzip
            X-GP-Version:
              description: Indicates the version of the GP-API for this message.
              schema:
                type: string
                default: "2020-10-22"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/deposits_list'
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorhttp400'
        401:
          description: Not Authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorhttp401'
        403:
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorhttp403'
        404:
          description: Resource Not Found
          content: {}
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorhttp500'
        501:
          description: Not implemented
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorhttp501'
        502:
          description: Bad Gateway
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorhttp502'
        504:
          description: Timeout
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorhttp504'
  /settlement/deposits/{id}:
    get:
      tags:
      - Deposit
      summary: Get the details of a single Deposit using its unique id.
      description: Get the details of a single Deposit using its unique id.
      parameters:
      - name: Authorization
        in: header
        description: The Bearer token used when executing this action.
        required: true
        schema:
          type: string
          default: Bearer MECaTYne0ch1VX2byAPZiJHhq6bc
      - name: X-GP-Version
        in: header
        description: Indicates the version of the GP-API for this message.
        required: true
        schema:
          type: string
          default: "2020-10-22"
      - name: Accept
        in: header
        description: Expected format of the response message.
        schema:
          type: string
          default: application/json
      - name: id
        in: path
        description: 'This is the deposit id created to uniquely identify it in the
          Global Payments system. '
        required: true
        schema:
          type: string
          default: "DEP_2342423423"
      responses:
        200:
          description: Success
          headers:
            Content-type:
              description: Format of the message.
              schema:
                type: string
                default: application/json
            Content-Encoding:
              description: Compression algorithm used in the response.
              schema:
                type: string
                default: gzip
            X-GP-Version:
              description: Indicates the version of the GP-API for this message.
              schema:
                type: string
                default: "2020-10-22"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/deposits_single'
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorhttp400'
        401:
          description: Not Authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorhttp401'
        403:
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorhttp403'
        404:
          description: Resource Not Found
          content: {}
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorhttp500'
        501:
          description: Not implemented
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorhttp501'
        502:
          description: Bad Gateway
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorhttp502'
        504:
          description: Timeout
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errorhttp504'
components:
  schemas:
    system:
      type: object
      properties:
        mid:
          type: string
          description: Merchant Identifier.
          example: "11112334"
        tid:
          type: string
          description: Terminal Identifier.
          example: "22229876"
        hierarchy:
          type: string
          description: Identifies the location of a merchant identifier within the
            merchant's hierarchical structure.
          example: 000-00-000-000-000
        name:
          type: string
          description: The merchant name that is associated with the merchant.
          example: MERCHANT ABC INC.
        dba:
          type: string
          description: The alternate name the merchant may be known as.
          example: MERCHANT XYZ INC.
      description: Configuration relating to a transactions from the Global Payments
        system. This info is relevant for troubleshooting and integrators using other
        Global Payments systems to payment process.
    action_getlist:
      type: object
      properties:
        id:
          type: string
          description: A unique identifier generated by Global Payments to identify
            the Action.
        type:
          type: string
          description: Indicates the action taken.
          example: DEPOSIT_LIST
          enum:
          - DEPOSIT_LIST
          - DEPOSIT_SINGLE
        time_created:
          type: string
          description: Global Payments time indicating when the Action was executed.
            Value is in ISO-8601 format and in UTC.
        result_code:
          type: string
          description: The result of the action executed.
          enum:
          - SUCCESS
          - DECLINE
        app_id:
          type: string
          description: The App id used to create the token for this request.
          example: i9R0byBBor6RqTQNj3g4MuVBwH5rd7yR
        app_name:
          type: string
          description: The name of the app used to create the token for this request.
          example: demo_app
      description: Information about the Action executed.
    deposits_list:
      type: object
      properties:
        total_record_count:
          maximum: 15
          type: number
          description: The total number across all pages. Returned on the first page
            and when the date range is a month or less.
          example: 3412.0
        current_page_size:
          maximum: 15
          type: number
          description: The total number of records returned on the current page. If
            current_page_size is less than the page_size using in the query string
            then this is the final page for that search.
          example: 3412.0
        merchant_id:
          type: string
          description: A unique identifier generated by Global Payments to identify
            the Merchant.
          example: MER_c4c0df11039c48a9b63701adeaa296c3
        merchant_name:
          type: string
          description: A meaningful label generated by Global Payments to identify
            the Merchant.
          example: Sandbox_merchant_2
        account_id:
          type: string
          description: A unique identifier generated by Global Payments to identify
            the Merchant's transaction processing configuration.
          example: DAA_5763583e72ca4181bee088a25482bf06
        account_name:
          type: string
          description: A meaningful label generated by Global Payments to identify
            the Merchant's configuration account.
          example: Settlement Reporting
        filter:
          $ref: '#/components/schemas/filter_obj'
        paging:
          $ref: '#/components/schemas/paging_obj'
        deposits:
          $ref: '#/components/schemas/deposits_res'
        action:
          $ref: '#/components/schemas/action_getlist'
    deposits_single:
      type: object
      properties:
        id:
          type: string
          description: A unique identifier generated by Global Payments to identify
            the Deposit.
          example: DEP_2342423423
        time_created:
          type: string
          description: Global Payments time indicating when the Deposit was created.
            Value is in ISO-8601 format and in UTC.
        status:
          type: string
          description: Search for Deposits that have a status of FUNDED, SPLIT_FUNDING,
            DELAYED, RESERVED.
          example: FUNDED
          enum:
          - FUNDED
          - SPLIT_FUNDING
          - DELAYED
          - RESERVED
        funding_type:
          type: string
          description: Indicates if the Deposit was a Debit or Credit to the Merchants
            bank account.
          example: CREDIT
          enum:
          - DEBIT
          - CREDIT
        amount:
          type: string
          description: The amount of the Deposit that affects the Merchant's bank
            account.
          example: "134999"
        currency:
          type: string
          description: The currency of the amount.
          example: USD
          enum:
          - USD
          - CAD
          - SGD
          - EUR
          - JPY
        aggregation_model:
          type: string
          description: The label that indicates how a merchant's payment processing
            activity across Sales, Refunds, Disputes and Fees is aggregated for a
            Deposit amount.
          example: NET
          enum:
          - NET
          - TRANSACTIONS-DISPUTES-FEES
          - SEPARATE
        bank_transfer:
          $ref: '#/components/schemas/bank_account_res'
        system:
          $ref: '#/components/schemas/system'
        sales:
          $ref: '#/components/schemas/totals'
        refunds:
          $ref: '#/components/schemas/totals'
        disputes:
          type: object
          properties:
            chargebacks:
              $ref: '#/components/schemas/totals'
            reversals:
              $ref: '#/components/schemas/totals'
          description: Data relating to the dispute totals across Chargebacks and
            Chargeback Reversals.
        discounts:
          $ref: '#/components/schemas/totals'
        fees:
          type: object
          properties:
            amount:
              type: string
              description: The total amount in the currency of the Deposit.
              example: "134999"
          description: The total fees amount in the currency of the Deposit.
        action:
          $ref: '#/components/schemas/action_getlist'
    deposits_res:
      type: object
      properties:
        id:
          type: string
          description: A unique identifier generated by Global Payments to identify
            the Deposit.
          example: DEP_2342423423
        time_created:
          type: string
          description: Global Payments time indicating when the Deposit was created.
            Value is in ISO-8601 format and in UTC.
        status:
          type: string
          description: Search for Deposits that have a status of FUNDED, SPLIT_FUNDING,
            DELAYED, RESERVED.
          example: FUNDED
          enum:
          - FUNDED
          - SPLIT_FUNDING
          - DELAYED
          - RESERVED
        funding_type:
          type: string
          description: Indicates if the Deposit was a Debit or Credit to the Merchants
            bank account.
          example: CREDIT
          enum:
          - DEBIT
          - CREDIT
        amount:
          type: string
          description: The amount of the Deposit that affects the Merchant's bank
            account.
          example: "134999"
        currency:
          type: string
          description: The currency of the amount.
          example: USD
          enum:
          - USD
          - CAD
          - SGD
          - EUR
          - JPY
        aggregation_model:
          type: string
          description: The label that indicates how a merchant's payment processing
            activity across Sales, Refunds, Disputes and Fees is aggregated for a
            Deposit amount.
          example: NET
          enum:
          - NET
          - TRANSACTIONS-DISPUTES-FEES
          - SEPARATE
        bank_transfer:
          $ref: '#/components/schemas/bank_account_res'
        system:
          $ref: '#/components/schemas/system'
        sales:
          $ref: '#/components/schemas/totals'
        refunds:
          $ref: '#/components/schemas/totals'
        disputes:
          type: object
          properties:
            chargebacks:
              $ref: '#/components/schemas/totals'
            reversals:
              $ref: '#/components/schemas/totals'
          description: Data relating to the dispute totals across Chargebacks and
            Chargeback Reversals.
        discounts:
          $ref: '#/components/schemas/totals'
        fees:
          type: object
          properties:
            amount:
              type: string
              description: The total amount in the currency of the Deposit.
              example: "134999"
          description: The total fees amount in the currency of the Deposit.
    totals:
      type: object
      properties:
        count:
          maximum: 15
          minimum: 1
          type: number
          description: The total number of items.
          example: 123.0
        amount:
          type: string
          description: The total amount in the currency of the Deposit.
          example: "134999"
      description: Total Number and Amount of an aggregate.
    bank_account_res:
      type: object
      properties:
        masked_account_number_last4:
          type: string
          description: The last 4 characters of the local reference for a bank account
            number.
        bank:
          $ref: '#/components/schemas/bank_res'
      description: Data relating to a bank transfer directly to or from the Payer's
        bank account.
    bank_res:
      type: object
      properties:
        code:
          type: string
          description: The local identifier code for the bank.
      description: Data relating to a bank transfer.
    filter_obj:
      type: object
      properties:
        name:
          type: string
          description: The name and value of the field used to search the list.
          example: Value of name used to search the list
      description: A name value list of the fields and field values used to filter
        the list of resource objects.
    paging_obj:
      type: object
      properties:
        page:
          type: string
          description: 'Indicates the page sequence to return in the response. The
            number of records presented on each page is determined by page_size field. '
          example: "1"
        page_size:
          maximum: 1E+2
          minimum: 1
          type: number
          description: The total number of objects to return in a single page for
            that list
          example: 25.0
        order_by:
          type: string
          description: The value to order the entire list by.
          example: TIME_CREATED
          enum:
          - TIME_CREATED
          - STATUS
          - TYPE
          - ID
        order:
          type: string
          description: The direction of the ordering of the entire list, ASC or DESC
          example: ASC
          enum:
          - ASC
          - DESC
      description: The paging values used for this action.
    errorhttp400:
      type: object
      properties:
        error_code:
          type: string
          description: This action failed due to something being wrong with the API
            request.
          example: MANDATORY_DATA_MISSING
          enum:
          - DUPLICATE_TRANSACTION
          - INVALID_BATCH_ACTION
          - INVALID_REQUEST_DATA
          - INVALID_TRANSACTION_ACTION
          - MANDATORY_DATA_MISSING
          - TRANSACTION_NOT_FOUND
        detailed_error_code:
          type: string
          description: Unique reference to identify the error.
          example: "40016"
          enum:
          - 4xxxx Range
        detailed_error_description:
          type: string
          description: Unique Text describing the specific error.
          example: Bad track data
    errorhttp401:
      type: object
      properties:
        error_code:
          type: string
          description: This action failed as token in the request is not valid.
          example: NOT_AUTHENTICATED
          enum:
          - NOT_AUTHENTICATED
        detailed_error_code:
          type: string
          description: Unique reference to identify the error.
          example: "40001"
          enum:
          - 4xxxx Range
          - "40001"
          - "40002"
        detailed_error_description:
          type: string
          description: Unique Text describing the specific error.
          example: Invalid Access Token
    errorhttp403:
      type: object
      properties:
        error_code:
          type: string
          description: This action is not authorized with the credentials being used.
          example: ACTION_NOT_AUTHORIZED
          enum:
          - ACTION_NOT_AUTHORIZED
        detailed_error_code:
          type: string
          description: Unique reference to identify the error.
          example: "40003"
          enum:
          - 4xxxx Range
          - "40003"
          - "40004"
        detailed_error_description:
          type: string
          description: Unique Text describing the specific error.
          example: Permission not enabled to execute action
    errorhttp500:
      type: object
      properties:
        error_code:
          type: string
          description: This indicates an unexpected issue occurred on the Global Payments
            system.
          example: SYSTEM_ERROR_DOWNSTREAM
          enum:
          - SYSTEM_ERROR_DOWNSTREAM
        detailed_error_code:
          type: string
          description: Unique reference to identify the error.
          example: "50011"
          enum:
          - 5xxxx Range
        detailed_error_description:
          type: string
          description: Unique Text describing the specific error.
          example: Processor Configuration error
    errorhttp501:
      type: object
      properties:
        error_code:
          type: string
          description: This is an error not yet handled or mapped properly.
          example: UNKNOWN_RESPONSE
          enum:
          - UNKNOWN_RESPONSE
        detailed_error_code:
          type: string
          description: Unique reference to identify the error.
          example: "50012"
          enum:
          - "50012"
        detailed_error_description:
          type: string
          description: 'Unique Text describing the specific error not yet handled.      '
    errorhttp502:
      type: object
      properties:
        error_code:
          type: string
          description: This is an error indicating there was an issue connecting to
            a partner system..
          example: UNAUTHORIZED_DOWNSTREAM
          enum:
          - UNAUTHORIZED_DOWNSTREAM
        detailed_error_code:
          type: string
          description: Unique reference to identify the error.
          example: "50002"
          enum:
          - 5xxxx Range
        detailed_error_description:
          type: string
          description: Authentication errorâ€”Verify and correct credentials.
    errorhttp504:
      type: object
      properties:
        error_code:
          type: string
          description: This is an error indicating there was a timeout issue to another  system.
          example: TIMEOUT_DOWNSTREAM
          enum:
          - TIMEOUT_DOWNSTREAM
        detailed_error_code:
          type: string
          description: Unique reference to identify the error.
          example: "50008"
          enum:
          - 5xxxx Range
        detailed_error_description:
          type: string
          description: 'No response from payment method provider.           '
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
